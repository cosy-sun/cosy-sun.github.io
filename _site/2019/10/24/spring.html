<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Spring | cosy-sun</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Spring" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="spring" />
<meta property="og:description" content="spring" />
<link rel="canonical" href="/2019/10/24/spring.html" />
<meta property="og:url" content="/2019/10/24/spring.html" />
<meta property="og:site_name" content="cosy-sun" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-10-24T00:00:00+08:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"/2019/10/24/spring.html"},"url":"/2019/10/24/spring.html","dateModified":"2019-10-24T00:00:00+08:00","datePublished":"2019-10-24T00:00:00+08:00","headline":"Spring","description":"spring","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="icon" type= "image/x-icon" href="../image/szh.ico"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="cosy-sun" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">cosy-sun</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Spring</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-10-24T00:00:00+08:00" itemprop="datePublished">Oct 24, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul>
  <li>
    <p>spring</p>
  </li>
  <li>
    <p>类加载器, 根加载器加载jre的核心类库, ext加载器加载jre的扩展目录ext中的jar类包, appclassloader加载classpath的,</p>

    <ul>
      <li>使用全盘委托机制, 先父加载器, 父加载器路径中没有, 使用子加载器, 防止了恶意代码,</li>
    </ul>
  </li>
  <li>
    <p>在ioc中装配bean</p>

    <ul>
      <li>bean标签创建一个bean,</li>
      <li>
        <p>依赖注入</p>

        <ul>
          <li>
            <p>属性注入, <property name="" value=""></property></p>
          </li>
          <li>构造函数注入, *<constrcutor-arg index="" value="">// <construct-arg type="" value="">*</construct-arg></constrcutor-arg></li>
          <li>循环依赖问题,</li>
          <li>
            <p>工厂方法注入,</p>

            <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  //非静态
  &lt;bean id = "factory" class = ".facoty"&gt;
  &lt;bean id = "car" factory-bean = "factory" factory-method = "method"&gt;
  //静态
  &lt;bean id = "" class = "" factory-method = ""&gt;
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
      <li>
        <p>注入参数</p>

        <ul>
          <li>字面值, property name = “” value = “11”</li>
          <li>引用其他bean, property name = “” ref = “”</li>
          <li>内部bean,</li>
        </ul>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;bean id = "" class = ""&gt;
      &lt;property  name = ""&gt;
          &lt;bean class = ""&gt;
</code></pre></div>        </div>
        <ul>
          <li>null值, 使用<null></null>标签</li>
          <li>级联属性, property name = “car.name” value = “hongqi”</li>
          <li>集合类型属性,</li>
        </ul>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;list&gt;&lt;value&gt;&lt;/value&gt;&lt;/list&gt;
  &lt;set&gt;&lt;value&gt;&lt;/value&gt;&lt;/set&gt;
  &lt;map&gt;&lt;entry&gt;&lt;key&gt;&lt;/key&gt;&lt;value&gt;&lt;/value&gt;&lt;/entry&gt;&lt;/map&gt;
  &lt;props&gt;&lt;prop key = &gt;...&lt;/prop&gt;&lt;/props&gt;
  //集合合并, 通过抽象和继承bean, 设置merge属性合并集合,例如map
  通过util配置集合, util:list util:map util:set
</code></pre></div>        </div>
        <ul>
          <li>简化配置:</li>
        </ul>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  //字面值,
  //引用对象属性
  &lt;property name = "" ref = ""&gt;
  &lt;construct-arg name = "" ref = ""&gt;
  &lt;map&gt;&lt;entry key-ref = "" value-ref = ""&gt;
  //使用p命名空间
  &lt;bean id = "" class = ""
      p:name = ""
      p:car-ref = ""
  &gt;
</code></pre></div>        </div>
        <ul>
          <li>
            <p>自动装配</p>

            <ul>
              <li>byname</li>
              <li>bytype</li>
              <li>constructor</li>
              <li>autodetect,根据bean的自行机制判断是用type还是constructor,</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>方法注入</p>

        <ul>
          <li>lookup注入, 为某个接口在运行期实现动态实现,
  ```</li>
        </ul>
        <bean class="">
  <lookup-method name="方法名" bean="返回">
        
  ```
  - 方法替换,<replaced-method name="" replacer=""> , 替换他人的bean, 自己必须实现methodreplacer接口,

</replaced-method></lookup-method></bean>
      </li>
      <li>bean之间的关系, 继承, 依赖, 引用</li>
      <li>导入其他配置文件<import resource=""></import></li>
      <li>bean的作用域, singleton, prototype, request, session, gobalsession</li>
    </ul>
  </li>
  <li>
    <p>通过注解配置bean</p>

    <ul>
      <li>@component</li>
      <li>@repository,用于对dao实现类进行标注</li>
      <li>@service, 用于对service实现类进行标注</li>
      <li>@controller,</li>
    </ul>
  </li>
  <li>
    <p>扫描注解定义的bean,</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;context:component-scan base-package = ""&gt;
      &lt;context:incude-filter type = "regex" expression = "com\.smart\.anno.*"&gt;
      &lt;context:exclude-filter type = "aspectj" expression = "com.smart..*Controller+"&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>自动装配bean</p>

    <ul>
      <li>@aurowired, 默认按照类型取查找bean,</li>
      <li>@autowired(required = false), 默认为true, 找不到bean报异常, 配置为false, 不报异常</li>
      <li>@autowired@qualifier(“”) 指定注入bean的名称</li>
      <li>@lazy延迟依赖, 调用此属性才会注入此属性</li>
      <li>@resource(“”), 指定一个名字, 如果名字不存在, 那么使用变量名或者方法名,</li>
      <li>
        <p>@scope,作用范围,</p>

        <ul>
          <li>@postconstruct</li>
          <li>@predestroy</li>
        </ul>
      </li>
      <li>@configuration, @bean, @import导入配置类, @importreousrces()引入xml配置, resource-parttern = ““,引用@configuration配置的类,</li>
    </ul>
  </li>
  <li>通过defaultlistablebeanfactory注入bean,</li>
  <li>
    <p>使用外部属性文件</p>

    <ul>
      <li>
        <context:property-placeholder location="">
</context:property-placeholder>
      </li>
      <li>@value</li>
    </ul>
  </li>
  <li>
    <p>aop</p>

    <ul>
      <li>jdk动态代理, 只能为接口代理</li>
      <li>
        <p>cglib动态代理, 通过生成子类来代理父类的方法,</p>
      </li>
      <li>
        <p>增强, 说白了就是在方法执行前后等等地方添加自己想要执行的东西,</p>

        <ul>
          <li>前置增强, beforeadvice</li>
          <li>后置, afterreturningadvice</li>
          <li>环绕, methodinterceptor</li>
          <li>异常抛出, throwsadvice</li>
          <li>引介,</li>
        </ul>
      </li>
      <li>切面,</li>
    </ul>
  </li>
  <li>
    <p>aspectj</p>

    <ul>
      <li>引入asm轻量级的字节码处理框架,</li>
      <li>@aspectj 切面定义</li>
      <li>@before, @afterreturning, @around, @afterthrowing,</li>
      <li>
        <p>切点表达式函数</p>

        <ul>
          <li>方法切点</li>
        </ul>

        <p>1 execution(), 方法匹配</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  execution(修饰符, 返回值类型, 方法名模式, 参数模式, 异常模式)
</code></pre></div>        </div>

        <p>2 @annotation(), 匹配某个注解的方法</p>

        <p>3 @args(), args,</p>

        <p>4 @target, 匹配标注了@M的类, @within匹配标注了@M的类以及子孙类,</p>

        <p>5 this()和target()类似, 目标类按类型匹配M, 那么便匹配,</p>
        <ul>
          <li>
            <p>@aspectj进阶</p>

            <ol>
              <li>
                <table>
                  <tbody>
                    <tr>
                      <td>复合切点, 使用了&amp;&amp;</td>
                      <td> </td>
                      <td>! 等操作符,@after(“within() &amp;&amp; within()”)</td>
                    </tr>
                  </tbody>
                </table>
              </li>
              <li>命名切点, @pointcut标注在某个方法上, 同时写好切点函数, 然后在其他地方可以使用@before(“**类.methodname()”)</li>
            </ol>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>spel表达式</p>

    <ol>
      <li>evaluationcontext接口</li>
      <li>#{properties[‘driverclassname’]}</li>
      <li>#{bean.propertie}</li>
      <li>#{T(java.lang.math).random() * 100}</li>
      <li>#{systemproeprties[‘os.name’]}</li>
    </ol>
  </li>
  <li>
    <p>@transactional</p>

    <ol>
      <li>@transactional(propagation = propagation.), 事务传播行为</li>
      <li>@transactional(isolation = ) 事务隔离级别</li>
      <li>readOnly, 事务读写性</li>
      <li>timeout, 事务超时时间</li>
      <li>rollbackfor, 一组异常类, 遇到回滚,</li>
      <li>norollbackfor, 一组异常类, 遇到不回滚,</li>
    </ol>
  </li>
</ul>


  </div><a class="u-url" href="/2019/10/24/spring.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <!--<h2 class="footer-heading">cosy-sun</h2>-->

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cosy-sun</li><li><a class="u-email" href="mailto:737387998@qq.com">737387998@qq.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/cosy-sun"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">cosy-sun</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>孙振华的博客</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
